<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–î–∞–Ω–Ω—ã–µ —Ü–µ–ø–æ—á–∫–∏</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<!-- –í–µ—Ä—Ö–Ω–µ–µ –º–µ–Ω—é -->
<header class="top-menu">
    <nav>
        <a href="index.html" class="nav-btn">–ì–ª–∞–≤–Ω–∞—è</a>
        <a href="array.html" class="nav-btn">–î–∞–Ω–Ω—ã–µ –º–∞—Å—Å–∏–≤–∞</a>
        <a href="chain.html" class="nav-btn active">–î–∞–Ω–Ω—ã–µ —Ü–µ–ø–æ—á–∫–∏</a>
        <a href="params.html" class="nav-btn">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞—Å—á–µ—Ç–∞</a>
        <a href="potential.html" class="nav-btn">–í—ã–±–æ—Ä –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞</a>
        <a href="charts.html" class="nav-btn">–ü—Ä–æ—Å–º–æ—Ç—Ä –≥—Ä–∞—Ñ–∏–∫–æ–≤</a>
    </nav>
</header>

<!-- –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ -->
<main class="center-content">
    <h2>–î–∞–Ω–Ω—ã–µ —Ü–µ–ø–æ—á–∫–∏</h2>

    <!-- –¢–∞–±–ª–∏—Ü–∞ -->
    <section class="data-box">
        <table class="data-table">
            <thead>
            <tr>
                <th>ID</th>
                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                <th>–ú–∞—Å—Å–∞</th>
                <th>–ó–∞—Ä—è–¥</th>
            </tr>
            </thead>
            <tbody id="chainTableBody">
            <tr><td colspan="5">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</td></tr>
            </tbody>
        </table>
    </section>
</main>

<!-- –ü–æ–¥–≤–∞–ª -->
<footer class="footer">
    <p>¬© 2025 –ü–ª–∞–∑–º–µ–Ω–Ω—ã–π –º–æ–¥—É–ª—å. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
</footer>

<script>
    document.addEventListener('DOMContentLoaded', async () => {
        const tableBody = document.getElementById('chainTableBody');

        try {
            const response = await fetch('/ions'); // üîπ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–≤–æ–π IonController
            if (!response.ok) throw new Error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–æ–Ω–æ–≤');

            const result = await response.json();
            const ions = result.data || [];

            if (ions.length === 0) {
                tableBody.innerHTML = '<tr><td colspan="5">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</td></tr>';
                return;
            }

            tableBody.innerHTML = '';
            ions.forEach(ion => {
                const row = document.createElement('tr');
                row.innerHTML = `
                <td>${ion.id}</td>
                <td>${ion.name || '‚Äî'}</td>
                <td>${ion.mass || '‚Äî'}</td>
                <td>${ion.charge || '‚Äî'}</td>
            `;
                tableBody.appendChild(row);
            });

        } catch (err) {
            console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ü–µ–ø–æ—á–∫–∏:', err);
            tableBody.innerHTML = '<tr><td colspan="5" style="color:red;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö</td></tr>';
        }
    });
</script>

</body>
</html>
